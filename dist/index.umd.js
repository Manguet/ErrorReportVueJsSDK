!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("vue")):"function"==typeof define&&define.amd?define(["exports","vue"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).ErrorExplorerVue={},e.Vue)}(this,function(e,t){"use strict";function r(e,t){return function(){return e.apply(t,arguments)}}const{toString:n}=Object.prototype,{getPrototypeOf:s}=Object,{iterator:i,toStringTag:o}=Symbol,a=(c=Object.create(null),e=>{const t=n.call(e);return c[t]||(c[t]=t.slice(8,-1).toLowerCase())});var c;const u=e=>(e=e.toLowerCase(),t=>a(t)===e),l=e=>t=>typeof t===e,{isArray:h}=Array,d=l("undefined");const f=u("ArrayBuffer");const m=l("string"),p=l("function"),g=l("number"),w=e=>null!==e&&"object"==typeof e,y=e=>{if("object"!==a(e))return!1;const t=s(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||o in e||i in e)},b=u("Date"),E=u("File"),S=u("Blob"),v=u("FileList"),x=u("URLSearchParams"),[C,R,O,T]=["ReadableStream","Request","Response","Headers"].map(u);function D(e,t,{allOwnKeys:r=!1}={}){if(null==e)return;let n,s;if("object"!=typeof e&&(e=[e]),h(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{const s=r?Object.getOwnPropertyNames(e):Object.keys(e),i=s.length;let o;for(n=0;n<i;n++)o=s[n],t.call(null,e[o],o,e)}}function P(e,t){t=t.toLowerCase();const r=Object.keys(e);let n,s=r.length;for(;s-- >0;)if(n=r[s],t===n.toLowerCase())return n;return null}const k="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,B=e=>!d(e)&&e!==k;const A=(M="undefined"!=typeof Uint8Array&&s(Uint8Array),e=>M&&e instanceof M);var M;const q=u("HTMLFormElement"),L=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),U=u("RegExp"),N=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};D(r,(r,s)=>{let i;!1!==(i=t(r,s,e))&&(n[s]=i||r)}),Object.defineProperties(e,n)};const z=u("AsyncFunction"),j=(F="function"==typeof setImmediate,I=p(k.postMessage),F?setImmediate:I?(_=`axios@${Math.random()}`,H=[],k.addEventListener("message",({source:e,data:t})=>{e===k&&t===_&&H.length&&H.shift()()},!1),e=>{H.push(e),k.postMessage(_,"*")}):e=>setTimeout(e));var F,I,_,H;const Q="undefined"!=typeof queueMicrotask?queueMicrotask.bind(k):"undefined"!=typeof process&&process.nextTick||j;var W={isArray:h,isArrayBuffer:f,isBuffer:function(e){return null!==e&&!d(e)&&null!==e.constructor&&!d(e.constructor)&&p(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||p(e.append)&&("formdata"===(t=a(e))||"object"===t&&p(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&f(e.buffer),t},isString:m,isNumber:g,isBoolean:e=>!0===e||!1===e,isObject:w,isPlainObject:y,isReadableStream:C,isRequest:R,isResponse:O,isHeaders:T,isUndefined:d,isDate:b,isFile:E,isBlob:S,isRegExp:U,isFunction:p,isStream:e=>w(e)&&p(e.pipe),isURLSearchParams:x,isTypedArray:A,isFileList:v,forEach:D,merge:function e(){const{caseless:t}=B(this)&&this||{},r={},n=(n,s)=>{const i=t&&P(r,s)||s;y(r[i])&&y(n)?r[i]=e(r[i],n):y(n)?r[i]=e({},n):h(n)?r[i]=n.slice():r[i]=n};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&D(arguments[e],n);return r},extend:(e,t,n,{allOwnKeys:s}={})=>(D(t,(t,s)=>{n&&p(t)?e[s]=r(t,n):e[s]=t},{allOwnKeys:s}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},toFlatObject:(e,t,r,n)=>{let i,o,a;const c={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)a=i[o],n&&!n(a,e,t)||c[a]||(t[a]=e[a],c[a]=!0);e=!1!==r&&s(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:a,kindOfTest:u,endsWith:(e,t,r)=>{e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return-1!==n&&n===r},toArray:e=>{if(!e)return null;if(h(e))return e;let t=e.length;if(!g(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},forEachEntry:(e,t)=>{const r=(e&&e[i]).call(e);let n;for(;(n=r.next())&&!n.done;){const r=n.value;t.call(e,r[0],r[1])}},matchAll:(e,t)=>{let r;const n=[];for(;null!==(r=e.exec(t));)n.push(r);return n},isHTMLForm:q,hasOwnProperty:L,hasOwnProp:L,reduceDescriptors:N,freezeMethods:e=>{N(e,(t,r)=>{if(p(e)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;const n=e[r];p(n)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")}))})},toObjectSet:(e,t)=>{const r={},n=e=>{e.forEach(e=>{r[e]=!0})};return h(e)?n(e):n(String(e).split(t)),r},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,r){return t.toUpperCase()+r}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:P,global:k,isContextDefined:B,isSpecCompliantForm:function(e){return!!(e&&p(e.append)&&"FormData"===e[o]&&e[i])},toJSONObject:e=>{const t=new Array(10),r=(e,n)=>{if(w(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[n]=e;const s=h(e)?[]:{};return D(e,(e,t)=>{const i=r(e,n+1);!d(i)&&(s[t]=i)}),t[n]=void 0,s}}return e};return r(e,0)},isAsyncFn:z,isThenable:e=>e&&(w(e)||p(e))&&p(e.then)&&p(e.catch),setImmediate:j,asap:Q,isIterable:e=>null!=e&&p(e[i])};function $(e,t,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}W.inherits($,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:W.toJSONObject(this.config),code:this.code,status:this.status}}});const K=$.prototype,J={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{J[e]={value:e}}),Object.defineProperties($,J),Object.defineProperty(K,"isAxiosError",{value:!0}),$.from=(e,t,r,n,s,i)=>{const o=Object.create(K);return W.toFlatObject(e,o,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e),$.call(o,e.message,t,r,n,s),o.cause=e,o.name=e.name,i&&Object.assign(o,i),o};function V(e){return W.isPlainObject(e)||W.isArray(e)}function Z(e){return W.endsWith(e,"[]")?e.slice(0,-2):e}function G(e,t,r){return e?e.concat(t).map(function(e,t){return e=Z(e),!r&&t?"["+e+"]":e}).join(r?".":""):t}const X=W.toFlatObject(W,{},null,function(e){return/^is[A-Z]/.test(e)});function Y(e,t,r){if(!W.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const n=(r=W.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!W.isUndefined(t[e])})).metaTokens,s=r.visitor||u,i=r.dots,o=r.indexes,a=(r.Blob||"undefined"!=typeof Blob&&Blob)&&W.isSpecCompliantForm(t);if(!W.isFunction(s))throw new TypeError("visitor must be a function");function c(e){if(null===e)return"";if(W.isDate(e))return e.toISOString();if(W.isBoolean(e))return e.toString();if(!a&&W.isBlob(e))throw new $("Blob is not supported. Use a Buffer instead.");return W.isArrayBuffer(e)||W.isTypedArray(e)?a&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function u(e,r,s){let a=e;if(e&&!s&&"object"==typeof e)if(W.endsWith(r,"{}"))r=n?r:r.slice(0,-2),e=JSON.stringify(e);else if(W.isArray(e)&&function(e){return W.isArray(e)&&!e.some(V)}(e)||(W.isFileList(e)||W.endsWith(r,"[]"))&&(a=W.toArray(e)))return r=Z(r),a.forEach(function(e,n){!W.isUndefined(e)&&null!==e&&t.append(!0===o?G([r],n,i):null===o?r:r+"[]",c(e))}),!1;return!!V(e)||(t.append(G(s,r,i),c(e)),!1)}const l=[],h=Object.assign(X,{defaultVisitor:u,convertValue:c,isVisitable:V});if(!W.isObject(e))throw new TypeError("data must be an object");return function e(r,n){if(!W.isUndefined(r)){if(-1!==l.indexOf(r))throw Error("Circular reference detected in "+n.join("."));l.push(r),W.forEach(r,function(r,i){!0===(!(W.isUndefined(r)||null===r)&&s.call(t,r,W.isString(i)?i.trim():i,n,h))&&e(r,n?n.concat(i):[i])}),l.pop()}}(e),t}function ee(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function te(e,t){this._pairs=[],e&&Y(e,this,t)}const re=te.prototype;function ne(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function se(e,t,r){if(!t)return e;const n=r&&r.encode||ne;W.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let i;if(i=s?s(t,r):W.isURLSearchParams(t)?t.toString():new te(t,r).toString(n),i){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}re.append=function(e,t){this._pairs.push([e,t])},re.toString=function(e){const t=e?function(t){return e.call(this,t,ee)}:ee;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};class ie{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){W.forEach(this.handlers,function(t){null!==t&&e(t)})}}var oe={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ae={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:te,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]};const ce="undefined"!=typeof window&&"undefined"!=typeof document,ue="object"==typeof navigator&&navigator||void 0,le=ce&&(!ue||["ReactNative","NativeScript","NS"].indexOf(ue.product)<0),he="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,de=ce&&window.location.href||"http://localhost";var fe={...Object.freeze({__proto__:null,hasBrowserEnv:ce,hasStandardBrowserEnv:le,hasStandardBrowserWebWorkerEnv:he,navigator:ue,origin:de}),...ae};function me(e){function t(e,r,n,s){let i=e[s++];if("__proto__"===i)return!0;const o=Number.isFinite(+i),a=s>=e.length;if(i=!i&&W.isArray(n)?n.length:i,a)return W.hasOwnProp(n,i)?n[i]=[n[i],r]:n[i]=r,!o;n[i]&&W.isObject(n[i])||(n[i]=[]);return t(e,r,n[i],s)&&W.isArray(n[i])&&(n[i]=function(e){const t={},r=Object.keys(e);let n;const s=r.length;let i;for(n=0;n<s;n++)i=r[n],t[i]=e[i];return t}(n[i])),!o}if(W.isFormData(e)&&W.isFunction(e.entries)){const r={};return W.forEachEntry(e,(e,n)=>{t(function(e){return W.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),n,r,0)}),r}return null}const pe={transitional:oe,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",n=r.indexOf("application/json")>-1,s=W.isObject(e);s&&W.isHTMLForm(e)&&(e=new FormData(e));if(W.isFormData(e))return n?JSON.stringify(me(e)):e;if(W.isArrayBuffer(e)||W.isBuffer(e)||W.isStream(e)||W.isFile(e)||W.isBlob(e)||W.isReadableStream(e))return e;if(W.isArrayBufferView(e))return e.buffer;if(W.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let i;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Y(e,new fe.classes.URLSearchParams,Object.assign({visitor:function(e,t,r,n){return fe.isNode&&W.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((i=W.isFileList(e))||r.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Y(i?{"files[]":e}:e,t&&new t,this.formSerializer)}}return s||n?(t.setContentType("application/json",!1),function(e,t,r){if(W.isString(e))try{return(t||JSON.parse)(e),W.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||pe.transitional,r=t&&t.forcedJSONParsing,n="json"===this.responseType;if(W.isResponse(e)||W.isReadableStream(e))return e;if(e&&W.isString(e)&&(r&&!this.responseType||n)){const r=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(e){if(r){if("SyntaxError"===e.name)throw $.from(e,$.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:fe.classes.FormData,Blob:fe.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};W.forEach(["delete","get","head","post","put","patch"],e=>{pe.headers[e]={}});const ge=W.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);const we=Symbol("internals");function ye(e){return e&&String(e).trim().toLowerCase()}function be(e){return!1===e||null==e?e:W.isArray(e)?e.map(be):String(e)}function Ee(e,t,r,n,s){return W.isFunction(n)?n.call(this,t,r):(s&&(t=r),W.isString(t)?W.isString(n)?-1!==t.indexOf(n):W.isRegExp(n)?n.test(t):void 0:void 0)}let Se=class{constructor(e){e&&this.set(e)}set(e,t,r){const n=this;function s(e,t,r){const s=ye(t);if(!s)throw new Error("header name must be a non-empty string");const i=W.findKey(n,s);(!i||void 0===n[i]||!0===r||void 0===r&&!1!==n[i])&&(n[i||t]=be(e))}const i=(e,t)=>W.forEach(e,(e,r)=>s(e,r,t));if(W.isPlainObject(e)||e instanceof this.constructor)i(e,t);else if(W.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))i((e=>{const t={};let r,n,s;return e&&e.split("\n").forEach(function(e){s=e.indexOf(":"),r=e.substring(0,s).trim().toLowerCase(),n=e.substring(s+1).trim(),!r||t[r]&&ge[r]||("set-cookie"===r?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t})(e),t);else if(W.isObject(e)&&W.isIterable(e)){let r,n,s={};for(const t of e){if(!W.isArray(t))throw TypeError("Object iterator must return a key-value pair");s[n=t[0]]=(r=s[n])?W.isArray(r)?[...r,t[1]]:[r,t[1]]:t[1]}i(s,t)}else null!=e&&s(t,e,r);return this}get(e,t){if(e=ye(e)){const r=W.findKey(this,e);if(r){const e=this[r];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}(e);if(W.isFunction(t))return t.call(this,e,r);if(W.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=ye(e)){const r=W.findKey(this,e);return!(!r||void 0===this[r]||t&&!Ee(0,this[r],r,t))}return!1}delete(e,t){const r=this;let n=!1;function s(e){if(e=ye(e)){const s=W.findKey(r,e);!s||t&&!Ee(0,r[s],s,t)||(delete r[s],n=!0)}}return W.isArray(e)?e.forEach(s):s(e),n}clear(e){const t=Object.keys(this);let r=t.length,n=!1;for(;r--;){const s=t[r];e&&!Ee(0,this[s],s,e,!0)||(delete this[s],n=!0)}return n}normalize(e){const t=this,r={};return W.forEach(this,(n,s)=>{const i=W.findKey(r,s);if(i)return t[i]=be(n),void delete t[s];const o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}(s):String(s).trim();o!==s&&delete t[s],t[o]=be(n),r[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return W.forEach(this,(r,n)=>{null!=r&&!1!==r&&(t[n]=e&&W.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(e=>r.set(e)),r}static accessor(e){const t=(this[we]=this[we]={accessors:{}}).accessors,r=this.prototype;function n(e){const n=ye(e);t[n]||(!function(e,t){const r=W.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(e,r,s){return this[n].call(this,t,e,r,s)},configurable:!0})})}(r,e),t[n]=!0)}return W.isArray(e)?e.forEach(n):n(e),this}};function ve(e,t){const r=this||pe,n=t||r,s=Se.from(n.headers);let i=n.data;return W.forEach(e,function(e){i=e.call(r,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function xe(e){return!(!e||!e.__CANCEL__)}function Ce(e,t,r){$.call(this,null==e?"canceled":e,$.ERR_CANCELED,t,r),this.name="CanceledError"}function Re(e,t,r){const n=r.config.validateStatus;r.status&&n&&!n(r.status)?t(new $("Request failed with status code "+r.status,[$.ERR_BAD_REQUEST,$.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):e(r)}Se.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),W.reduceDescriptors(Se.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[r]=e}}}),W.freezeMethods(Se),W.inherits(Ce,$,{__CANCEL__:!0});const Oe=(e,t,r=3)=>{let n=0;const s=function(e,t){e=e||10;const r=new Array(e),n=new Array(e);let s,i=0,o=0;return t=void 0!==t?t:1e3,function(a){const c=Date.now(),u=n[o];s||(s=c),r[i]=a,n[i]=c;let l=o,h=0;for(;l!==i;)h+=r[l++],l%=e;if(i=(i+1)%e,i===o&&(o=(o+1)%e),c-s<t)return;const d=u&&c-u;return d?Math.round(1e3*h/d):void 0}}(50,250);return function(e,t){let r,n,s=0,i=1e3/t;const o=(t,i=Date.now())=>{s=i,r=null,n&&(clearTimeout(n),n=null),e.apply(null,t)};return[(...e)=>{const t=Date.now(),a=t-s;a>=i?o(e,t):(r=e,n||(n=setTimeout(()=>{n=null,o(r)},i-a)))},()=>r&&o(r)]}(r=>{const i=r.loaded,o=r.lengthComputable?r.total:void 0,a=i-n,c=s(a);n=i;e({loaded:i,total:o,progress:o?i/o:void 0,bytes:a,rate:c||void 0,estimated:c&&o&&i<=o?(o-i)/c:void 0,event:r,lengthComputable:null!=o,[t?"download":"upload"]:!0})},r)},Te=(e,t)=>{const r=null!=e;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},De=e=>(...t)=>W.asap(()=>e(...t));var Pe=fe.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,fe.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(fe.origin),fe.navigator&&/(msie|trident)/i.test(fe.navigator.userAgent)):()=>!0,ke=fe.hasStandardBrowserEnv?{write(e,t,r,n,s,i){const o=[e+"="+encodeURIComponent(t)];W.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),W.isString(n)&&o.push("path="+n),W.isString(s)&&o.push("domain="+s),!0===i&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Be(e,t,r){let n=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(n||0==r)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Ae=e=>e instanceof Se?{...e}:e;function Me(e,t){t=t||{};const r={};function n(e,t,r,n){return W.isPlainObject(e)&&W.isPlainObject(t)?W.merge.call({caseless:n},e,t):W.isPlainObject(t)?W.merge({},t):W.isArray(t)?t.slice():t}function s(e,t,r,s){return W.isUndefined(t)?W.isUndefined(e)?void 0:n(void 0,e,0,s):n(e,t,0,s)}function i(e,t){if(!W.isUndefined(t))return n(void 0,t)}function o(e,t){return W.isUndefined(t)?W.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function a(r,s,i){return i in t?n(r,s):i in e?n(void 0,r):void 0}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(e,t,r)=>s(Ae(e),Ae(t),0,!0)};return W.forEach(Object.keys(Object.assign({},e,t)),function(n){const i=c[n]||s,o=i(e[n],t[n],n);W.isUndefined(o)&&i!==a||(r[n]=o)}),r}var qe=e=>{const t=Me({},e);let r,{data:n,withXSRFToken:s,xsrfHeaderName:i,xsrfCookieName:o,headers:a,auth:c}=t;if(t.headers=a=Se.from(a),t.url=se(Be(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),c&&a.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),W.isFormData(n))if(fe.hasStandardBrowserEnv||fe.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(!1!==(r=a.getContentType())){const[e,...t]=r?r.split(";").map(e=>e.trim()).filter(Boolean):[];a.setContentType([e||"multipart/form-data",...t].join("; "))}if(fe.hasStandardBrowserEnv&&(s&&W.isFunction(s)&&(s=s(t)),s||!1!==s&&Pe(t.url))){const e=i&&o&&ke.read(o);e&&a.set(i,e)}return t};var Le="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise(function(t,r){const n=qe(e);let s=n.data;const i=Se.from(n.headers).normalize();let o,a,c,u,l,{responseType:h,onUploadProgress:d,onDownloadProgress:f}=n;function m(){u&&u(),l&&l(),n.cancelToken&&n.cancelToken.unsubscribe(o),n.signal&&n.signal.removeEventListener("abort",o)}let p=new XMLHttpRequest;function g(){if(!p)return;const n=Se.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders());Re(function(e){t(e),m()},function(e){r(e),m()},{data:h&&"text"!==h&&"json"!==h?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:n,config:e,request:p}),p=null}p.open(n.method.toUpperCase(),n.url,!0),p.timeout=n.timeout,"onloadend"in p?p.onloadend=g:p.onreadystatechange=function(){p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))&&setTimeout(g)},p.onabort=function(){p&&(r(new $("Request aborted",$.ECONNABORTED,e,p)),p=null)},p.onerror=function(){r(new $("Network Error",$.ERR_NETWORK,e,p)),p=null},p.ontimeout=function(){let t=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const s=n.transitional||oe;n.timeoutErrorMessage&&(t=n.timeoutErrorMessage),r(new $(t,s.clarifyTimeoutError?$.ETIMEDOUT:$.ECONNABORTED,e,p)),p=null},void 0===s&&i.setContentType(null),"setRequestHeader"in p&&W.forEach(i.toJSON(),function(e,t){p.setRequestHeader(t,e)}),W.isUndefined(n.withCredentials)||(p.withCredentials=!!n.withCredentials),h&&"json"!==h&&(p.responseType=n.responseType),f&&([c,l]=Oe(f,!0),p.addEventListener("progress",c)),d&&p.upload&&([a,u]=Oe(d),p.upload.addEventListener("progress",a),p.upload.addEventListener("loadend",u)),(n.cancelToken||n.signal)&&(o=t=>{p&&(r(!t||t.type?new Ce(null,e,p):t),p.abort(),p=null)},n.cancelToken&&n.cancelToken.subscribe(o),n.signal&&(n.signal.aborted?o():n.signal.addEventListener("abort",o)));const w=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(n.url);w&&-1===fe.protocols.indexOf(w)?r(new $("Unsupported protocol "+w+":",$.ERR_BAD_REQUEST,e)):p.send(s||null)})};const Ue=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let r,n=new AbortController;const s=function(e){if(!r){r=!0,o();const t=e instanceof Error?e:this.reason;n.abort(t instanceof $?t:new Ce(t instanceof Error?t.message:t))}};let i=t&&setTimeout(()=>{i=null,s(new $(`timeout ${t} of ms exceeded`,$.ETIMEDOUT))},t);const o=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(s):e.removeEventListener("abort",s)}),e=null)};e.forEach(e=>e.addEventListener("abort",s));const{signal:a}=n;return a.unsubscribe=()=>W.asap(o),a}},Ne=function*(e,t){let r=e.byteLength;if(r<t)return void(yield e);let n,s=0;for(;s<r;)n=s+t,yield e.slice(s,n),s=n},ze=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:r}=await t.read();if(e)break;yield r}}finally{await t.cancel()}},je=(e,t,r,n)=>{const s=async function*(e,t){for await(const r of ze(e))yield*Ne(r,t)}(e,t);let i,o=0,a=e=>{i||(i=!0,n&&n(e))};return new ReadableStream({async pull(e){try{const{done:t,value:n}=await s.next();if(t)return a(),void e.close();let i=n.byteLength;if(r){let e=o+=i;r(e)}e.enqueue(new Uint8Array(n))}catch(e){throw a(e),e}},cancel:e=>(a(e),s.return())},{highWaterMark:2})},Fe="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,Ie=Fe&&"function"==typeof ReadableStream,_e=Fe&&("function"==typeof TextEncoder?(He=new TextEncoder,e=>He.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var He;const Qe=(e,...t)=>{try{return!!e(...t)}catch(e){return!1}},We=Ie&&Qe(()=>{let e=!1;const t=new Request(fe.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),$e=Ie&&Qe(()=>W.isReadableStream(new Response("").body)),Ke={stream:$e&&(e=>e.body)};var Je;Fe&&(Je=new Response,["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Ke[e]&&(Ke[e]=W.isFunction(Je[e])?t=>t[e]():(t,r)=>{throw new $(`Response type '${e}' is not supported`,$.ERR_NOT_SUPPORT,r)})}));const Ve=async(e,t)=>{const r=W.toFiniteNumber(e.getContentLength());return null==r?(async e=>{if(null==e)return 0;if(W.isBlob(e))return e.size;if(W.isSpecCompliantForm(e)){const t=new Request(fe.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return W.isArrayBufferView(e)||W.isArrayBuffer(e)?e.byteLength:(W.isURLSearchParams(e)&&(e+=""),W.isString(e)?(await _e(e)).byteLength:void 0)})(t):r};const Ze={http:null,xhr:Le,fetch:Fe&&(async e=>{let{url:t,method:r,data:n,signal:s,cancelToken:i,timeout:o,onDownloadProgress:a,onUploadProgress:c,responseType:u,headers:l,withCredentials:h="same-origin",fetchOptions:d}=qe(e);u=u?(u+"").toLowerCase():"text";let f,m=Ue([s,i&&i.toAbortSignal()],o);const p=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let g;try{if(c&&We&&"get"!==r&&"head"!==r&&0!==(g=await Ve(l,n))){let e,r=new Request(t,{method:"POST",body:n,duplex:"half"});if(W.isFormData(n)&&(e=r.headers.get("content-type"))&&l.setContentType(e),r.body){const[e,t]=Te(g,Oe(De(c)));n=je(r.body,65536,e,t)}}W.isString(h)||(h=h?"include":"omit");const s="credentials"in Request.prototype;f=new Request(t,{...d,signal:m,method:r.toUpperCase(),headers:l.normalize().toJSON(),body:n,duplex:"half",credentials:s?h:void 0});let i=await fetch(f,d);const o=$e&&("stream"===u||"response"===u);if($e&&(a||o&&p)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=i[t]});const t=W.toFiniteNumber(i.headers.get("content-length")),[r,n]=a&&Te(t,Oe(De(a),!0))||[];i=new Response(je(i.body,65536,r,()=>{n&&n(),p&&p()}),e)}u=u||"text";let w=await Ke[W.findKey(Ke,u)||"text"](i,e);return!o&&p&&p(),await new Promise((t,r)=>{Re(t,r,{data:w,headers:Se.from(i.headers),status:i.status,statusText:i.statusText,config:e,request:f})})}catch(t){if(p&&p(),t&&"TypeError"===t.name&&/Load failed|fetch/i.test(t.message))throw Object.assign(new $("Network Error",$.ERR_NETWORK,e,f),{cause:t.cause||t});throw $.from(t,t&&t.code,e,f)}})};W.forEach(Ze,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}});const Ge=e=>`- ${e}`,Xe=e=>W.isFunction(e)||null===e||!1===e;var Ye=e=>{e=W.isArray(e)?e:[e];const{length:t}=e;let r,n;const s={};for(let i=0;i<t;i++){let t;if(r=e[i],n=r,!Xe(r)&&(n=Ze[(t=String(r)).toLowerCase()],void 0===n))throw new $(`Unknown adapter '${t}'`);if(n)break;s[t||"#"+i]=n}if(!n){const e=Object.entries(s).map(([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build"));throw new $("There is no suitable adapter to dispatch the request "+(t?e.length>1?"since :\n"+e.map(Ge).join("\n"):" "+Ge(e[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return n};function et(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ce(null,e)}function tt(e){et(e),e.headers=Se.from(e.headers),e.data=ve.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Ye(e.adapter||pe.adapter)(e).then(function(t){return et(e),t.data=ve.call(e,e.transformResponse,t),t.headers=Se.from(t.headers),t},function(t){return xe(t)||(et(e),t&&t.response&&(t.response.data=ve.call(e,e.transformResponse,t.response),t.response.headers=Se.from(t.response.headers))),Promise.reject(t)})}const rt="1.10.0",nt={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{nt[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const st={};nt.transitional=function(e,t,r){function n(e,t){return"[Axios v"+rt+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return(r,s,i)=>{if(!1===e)throw new $(n(s," has been removed"+(t?" in "+t:"")),$.ERR_DEPRECATED);return t&&!st[s]&&(st[s]=!0,console.warn(n(s," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,s,i)}},nt.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};var it={assertOptions:function(e,t,r){if("object"!=typeof e)throw new $("options must be an object",$.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let s=n.length;for(;s-- >0;){const i=n[s],o=t[i];if(o){const t=e[i],r=void 0===t||o(t,i,e);if(!0!==r)throw new $("option "+i+" must be "+r,$.ERR_BAD_OPTION_VALUE);continue}if(!0!==r)throw new $("Unknown option "+i,$.ERR_BAD_OPTION)}},validators:nt};const ot=it.validators;let at=class{constructor(e){this.defaults=e||{},this.interceptors={request:new ie,response:new ie}}async request(e,t){try{return await this._request(e,t)}catch(e){if(e instanceof Error){let t={};Error.captureStackTrace?Error.captureStackTrace(t):t=new Error;const r=t.stack?t.stack.replace(/^.+\n/,""):"";try{e.stack?r&&!String(e.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(e.stack+="\n"+r):e.stack=r}catch(e){}}throw e}}_request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=Me(this.defaults,t);const{transitional:r,paramsSerializer:n,headers:s}=t;void 0!==r&&it.assertOptions(r,{silentJSONParsing:ot.transitional(ot.boolean),forcedJSONParsing:ot.transitional(ot.boolean),clarifyTimeoutError:ot.transitional(ot.boolean)},!1),null!=n&&(W.isFunction(n)?t.paramsSerializer={serialize:n}:it.assertOptions(n,{encode:ot.function,serialize:ot.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),it.assertOptions(t,{baseUrl:ot.spelling("baseURL"),withXsrfToken:ot.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let i=s&&W.merge(s.common,s[t.method]);s&&W.forEach(["delete","get","head","post","put","patch","common"],e=>{delete s[e]}),t.headers=Se.concat(i,s);const o=[];let a=!0;this.interceptors.request.forEach(function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,o.unshift(e.fulfilled,e.rejected))});const c=[];let u;this.interceptors.response.forEach(function(e){c.push(e.fulfilled,e.rejected)});let l,h=0;if(!a){const e=[tt.bind(this),void 0];for(e.unshift.apply(e,o),e.push.apply(e,c),l=e.length,u=Promise.resolve(t);h<l;)u=u.then(e[h++],e[h++]);return u}l=o.length;let d=t;for(h=0;h<l;){const e=o[h++],t=o[h++];try{d=e(d)}catch(e){t.call(this,e);break}}try{u=tt.call(this,d)}catch(e){return Promise.reject(e)}for(h=0,l=c.length;h<l;)u=u.then(c[h++],c[h++]);return u}getUri(e){return se(Be((e=Me(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}};W.forEach(["delete","get","head","options"],function(e){at.prototype[e]=function(t,r){return this.request(Me(r||{},{method:e,url:t,data:(r||{}).data}))}}),W.forEach(["post","put","patch"],function(e){function t(t){return function(r,n,s){return this.request(Me(s||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}at.prototype[e]=t(),at.prototype[e+"Form"]=t(!0)});const ct={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ct).forEach(([e,t])=>{ct[t]=e});const ut=function e(t){const n=new at(t),s=r(at.prototype.request,n);return W.extend(s,at.prototype,n,{allOwnKeys:!0}),W.extend(s,n,null,{allOwnKeys:!0}),s.create=function(r){return e(Me(t,r))},s}(pe);ut.Axios=at,ut.CanceledError=Ce,ut.CancelToken=class e{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const r=this;this.promise.then(e=>{if(!r._listeners)return;let t=r._listeners.length;for(;t-- >0;)r._listeners[t](e);r._listeners=null}),this.promise.then=e=>{let t;const n=new Promise(e=>{r.subscribe(e),t=e}).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e(function(e,n,s){r.reason||(r.reason=new Ce(e,n,s),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let t;return{token:new e(function(e){t=e}),cancel:t}}},ut.isCancel=xe,ut.VERSION=rt,ut.toFormData=Y,ut.AxiosError=$,ut.Cancel=ut.CanceledError,ut.all=function(e){return Promise.all(e)},ut.spread=function(e){return function(t){return e.apply(null,t)}},ut.isAxiosError=function(e){return W.isObject(e)&&!0===e.isAxiosError},ut.mergeConfig=Me,ut.AxiosHeaders=Se,ut.formToJSON=e=>me(W.isHTMLForm(e)?new FormData(e):e),ut.getAdapter=Ye,ut.HttpStatusCode=ct,ut.default=ut;const{Axios:lt,AxiosError:ht,CanceledError:dt,isCancel:ft,CancelToken:mt,VERSION:pt,all:gt,Cancel:wt,isAxiosError:yt,spread:bt,toFormData:Et,AxiosHeaders:St,HttpStatusCode:vt,formToJSON:xt,getAdapter:Ct,mergeConfig:Rt}=ut;class Ot{constructor(e=50){this.breadcrumbs=[],this.maxBreadcrumbs=e}addBreadcrumb(e){const t={...e,timestamp:(new Date).toISOString()};this.breadcrumbs.push(t),this.breadcrumbs.length>this.maxBreadcrumbs&&this.breadcrumbs.shift()}getBreadcrumbs(){return[...this.breadcrumbs]}clear(){this.breadcrumbs=[]}addNavigation(e,t){this.addBreadcrumb({message:`Navigation: ${e} → ${t}`,category:"navigation",level:"info",data:{from:e,to:t}})}addUserInteraction(e,t,r){this.addBreadcrumb({message:`User ${e} on ${t}`,category:"user",level:"info",data:{event:e,target:t,...r}})}addHttpRequest(e,t,r){this.addBreadcrumb({message:`${e} ${t}${r?` → ${r}`:""}`,category:"http",level:r&&r>=400?"error":"info",data:{method:e,url:t,status_code:r}})}addComponentLifecycle(e,t){this.addBreadcrumb({message:`${e}: ${t}`,category:"vue.lifecycle",level:"debug",data:{component:e,lifecycle:t}})}addVueEvent(e,t,r){this.addBreadcrumb({message:`${e} emitted ${t}`,category:"vue.event",level:"info",data:{component:e,event:t,event_data:r}})}addConsoleLog(e,t,r){this.addBreadcrumb({message:t,category:"console",level:e,data:r?{data:r}:void 0})}addCustom(e,t){this.addBreadcrumb({message:e,category:"custom",level:"info",data:t})}clearBreadcrumbs(){this.clear()}}class Tt{constructor(e){this.requests=[],this.errorHashes=new Map,this.cleanupInterval=null,this.config=e,this.setupCleanupInterval()}setupCleanupInterval(){"undefined"!=typeof window&&(this.cleanupInterval=window.setInterval(()=>{this.cleanup()},this.config.windowMs))}canSendError(e){const t=Date.now();if(this.removeExpiredRequests(t),this.requests.length>=this.config.maxRequests)return{allowed:!1,remaining:0,resetTime:this.getNextResetTime(t),reason:"Rate limit exceeded"};const r=this.generateErrorHash(e),n=this.errorHashes.get(r);return n&&t-n<this.config.duplicateErrorWindow?{allowed:!1,remaining:this.config.maxRequests-this.requests.length,resetTime:this.getNextResetTime(t),reason:"Duplicate error"}:{allowed:!0,remaining:this.config.maxRequests-this.requests.length-1,resetTime:this.getNextResetTime(t)}}markErrorSent(e){const t=Date.now();this.requests.push(t);const r=this.generateErrorHash(e);this.errorHashes.set(r,t)}generateErrorHash(e){const t=`${e.message}-${e.file}-${e.line}`;return btoa(t).replace(/[^a-zA-Z0-9]/g,"").substring(0,32)}removeExpiredRequests(e){const t=e-this.config.windowMs;this.requests=this.requests.filter(e=>e>t)}getNextResetTime(e){if(0===this.requests.length)return e+this.config.windowMs;return Math.min(...this.requests)+this.config.windowMs}cleanup(){const e=Date.now();this.removeExpiredRequests(e);const t=e-this.config.duplicateErrorWindow;for(const[e,r]of this.errorHashes.entries())r<t&&this.errorHashes.delete(e)}getStats(){return{requestCount:this.requests.length,errorHashCount:this.errorHashes.size}}destroy(){this.cleanupInterval&&(clearInterval(this.cleanupInterval),this.cleanupInterval=null),this.requests=[],this.errorHashes.clear()}}class Dt{constructor(e=50,t=864e5){this.queue=[],this.isOnline=!0,this.sendFunction=null,this.processingQueue=!1,this.onlineListener=null,this.offlineListener=null,this.maxQueueSize=e,this.maxAge=t,this.setupNetworkListeners(),this.loadQueueFromStorage()}setupNetworkListeners(){"undefined"!=typeof window&&(this.isOnline=navigator.onLine,this.onlineListener=()=>{this.isOnline=!0,this.processQueue()},this.offlineListener=()=>{this.isOnline=!1},window.addEventListener("online",this.onlineListener),window.addEventListener("offline",this.offlineListener))}setSendFunction(e){this.sendFunction=e}async handleError(e){if(this.isOnline&&this.sendFunction)try{return void await this.sendFunction(e)}catch(t){this.queueError(e)}else this.queueError(e)}queueError(e){const t={id:this.generateId(),errorData:e,timestamp:Date.now(),attempts:0};this.cleanupQueue(),this.queue.push(t),this.queue.length>this.maxQueueSize&&(this.queue.sort((e,t)=>e.timestamp-t.timestamp),this.queue=this.queue.slice(-this.maxQueueSize)),this.saveQueueToStorage()}async processQueue(){if(!this.processingQueue&&this.isOnline&&this.sendFunction){this.processingQueue=!0;try{const e=[...this.queue],t=[];for(const r of e)try{await this.sendFunction(r.errorData),t.push(r.id)}catch(e){r.attempts++,r.attempts>=3&&t.push(r.id)}this.queue=this.queue.filter(e=>!t.includes(e.id)),this.saveQueueToStorage()}finally{this.processingQueue=!1}}}cleanupQueue(){const e=Date.now()-this.maxAge;this.queue=this.queue.filter(t=>t.timestamp>e)}generateId(){return Math.random().toString(36).substr(2,9)+Date.now().toString(36)}getStorageKey(){return"error-explorer-offline-queue"}saveQueueToStorage(){if("undefined"!=typeof window&&window.localStorage)try{const e=JSON.stringify(this.queue);localStorage.setItem(this.getStorageKey(),e)}catch(e){console.warn("Failed to save offline queue to localStorage:",e)}}loadQueueFromStorage(){if("undefined"!=typeof window&&window.localStorage)try{const e=localStorage.getItem(this.getStorageKey());if(e){const t=JSON.parse(e);Array.isArray(t)&&(this.queue=t,this.cleanupQueue())}}catch(e){console.warn("Failed to load offline queue from localStorage:",e),this.queue=[]}}async flushQueue(){this.isOnline&&await this.processQueue()}getQueueStats(){return{size:this.queue.length,oldestTimestamp:this.queue.length>0?Math.min(...this.queue.map(e=>e.timestamp)):null,isOnline:this.isOnline,isProcessing:this.processingQueue}}clearQueue(){this.queue=[],this.saveQueueToStorage()}destroy(){this.onlineListener&&window.removeEventListener("online",this.onlineListener),this.offlineListener&&window.removeEventListener("offline",this.offlineListener),this.clearQueue(),this.sendFunction=null}}class Pt{constructor(e={}){this.config={maxRetries:3,initialDelay:1e3,maxDelay:3e4,backoffMultiplier:2,jitter:!0,...e}}async executeWithRetry(e,t){const r={...this.config,...t},n=Date.now();let s=null;for(let t=0;t<=r.maxRetries;t++)try{return{success:!0,result:await e(),attempts:t+1,totalTime:Date.now()-n}}catch(e){if(s=e,t===r.maxRetries)break;if(this.shouldNotRetry(e))break;const n=this.calculateDelay(t,r);await this.sleep(n)}return{success:!1,error:s||new Error("Unknown error"),attempts:r.maxRetries+1,totalTime:Date.now()-n}}shouldNotRetry(e){return!!(e.message.includes("400")||e.message.includes("401")||e.message.includes("403")||e.message.includes("404"))||("ValidationError"===e.name||"TypeError"===e.name)}calculateDelay(e,t){let r=t.initialDelay*Math.pow(t.backoffMultiplier,e);if(r=Math.min(r,t.maxDelay),t.jitter){const e=.1*r;r+=2*(Math.random()-.5)*e}return Math.max(0,Math.round(r))}sleep(e){return new Promise(t=>setTimeout(t,e))}async retry(e){const t=await this.executeWithRetry(e);if(t.success&&void 0!==t.result)return t.result;throw t.error||new Error("Retry failed")}makeRetryable(e,t){return async(...r)=>{const n=await this.executeWithRetry(()=>e(...r),t);if(n.success&&void 0!==n.result)return n.result;throw n.error||new Error("Retry failed")}}getConfig(){return{...this.config}}updateConfig(e){this.config={...this.config,...e}}}class kt{constructor(e={}){this.defaultSensitivePatterns=[/\b\d{4}[-\s]?\d{4}[-\s]?\d{4}[-\s]?\d{4}\b/g,/\b\d{3}-\d{2}-\d{4}\b/g,/\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Z|a-z]{2,}\b/g,/\b\d{3}[-.]?\d{3}[-.]?\d{4}\b/g,/\b(?:[0-9]{1,3}\.){3}[0-9]{1,3}\b/g,/\beyJ[A-Za-z0-9_-]*\.[A-Za-z0-9_-]*\.[A-Za-z0-9_-]*\b/g,/\b[Aa]pi[_-]?[Kk]ey[:\s]*[A-Za-z0-9_-]{20,}\b/g,/["\']?password["\']?\s*[:\s=]\s*["\'][^"']*["\']?/gi,/\b[Aa]ccess[_-]?[Tt]oken[:\s]*[A-Za-z0-9_-]{20,}\b/g],this.config={requireHttps:!0,validateToken:!0,maxPayloadSize:1048576,sensitiveDataPatterns:this.defaultSensitivePatterns,...e}}validateConfiguration(e){const t=[],r=[];if(e.webhookUrl)try{const r=new URL(e.webhookUrl);this.config.requireHttps&&"https:"!==r.protocol&&t.push("HTTPS is required for webhook URL in production"),this.config.allowedDomains&&this.config.allowedDomains.length>0&&(this.config.allowedDomains.includes(r.hostname)||t.push(`Domain ${r.hostname} is not in allowed domains list`))}catch(e){t.push("Invalid webhook URL format")}else t.push("Webhook URL is required");return e.projectName&&0!==e.projectName.trim().length||t.push("Project name is required"),e.environment&&!["development","staging","production"].includes(e.environment)&&r.push("Environment should be one of: development, staging, production"),void 0!==e.retries&&(e.retries<0||e.retries>10)&&r.push("Retry count should be between 0 and 10"),void 0!==e.timeout&&(e.timeout<1e3||e.timeout>3e4)&&r.push("Timeout should be between 1000ms and 30000ms"),{valid:0===t.length,errors:t,warnings:r}}validatePayload(e){const t=[],r=[],n=this.calculatePayloadSize(e);n>this.config.maxPayloadSize&&t.push(`Payload size (${n} bytes) exceeds maximum allowed size (${this.config.maxPayloadSize} bytes)`);const s=this.detectSensitiveData(e);return s.length>0&&r.push(`Potential sensitive data detected: ${s.join(", ")}`),e.message||t.push("Error message is required"),e.project||t.push("Project name is required"),e.timestamp||t.push("Timestamp is required"),{valid:0===t.length,errors:t,warnings:r}}sanitizeErrorData(e){const t={...e};return t.message&&(t.message=this.sanitizeText(t.message)),t.stack_trace&&(t.stack_trace=this.sanitizeText(t.stack_trace)),t.context&&(t.context=this.sanitizeObject(t.context)),t.breadcrumbs&&(t.breadcrumbs=t.breadcrumbs.map(e=>({...e,message:this.sanitizeText(e.message),data:e.data?this.sanitizeObject(e.data):void 0}))),t.user&&(t.user=this.sanitizeObject(t.user)),t}calculatePayloadSize(e){return new Blob([JSON.stringify(e)]).size}detectSensitiveData(e){const t=[],r=[e.message,e.stack_trace,JSON.stringify(e.context||{}),JSON.stringify(e.user||{}),JSON.stringify(e.breadcrumbs||[])].join(" ");for(const e of this.config.sensitiveDataPatterns)e.test(r)&&(e.source.includes("\\d{4}[-\\s]?\\d{4}")?t.push("Credit Card"):e.source.includes("\\d{3}-\\d{2}-\\d{4}")?t.push("SSN"):e.source.includes("@")?t.push("Email"):e.source.includes("eyJ")?t.push("JWT Token"):e.source.includes("[Aa]pi")?t.push("API Key"):e.source.includes("password")?t.push("Password"):t.push("PII"));return[...new Set(t)]}sanitizeText(e){let t=e;for(const e of this.config.sensitiveDataPatterns)t=t.replace(e,"[REDACTED]");return t}sanitizeObject(e){if("object"!=typeof e||null===e)return e;if(Array.isArray(e))return e.map(e=>this.sanitizeObject(e));const t={};for(const[r,n]of Object.entries(e)){["password","token","secret","key","auth","credential"].some(e=>r.toLowerCase().includes(e))?t[r]="[REDACTED]":t[r]="string"==typeof n?this.sanitizeText(n):"object"==typeof n?this.sanitizeObject(n):n}return t}addSensitivePattern(e){this.config.sensitiveDataPatterns.push(e)}removeSensitivePattern(e){const t=this.config.sensitiveDataPatterns.findIndex(t=>t.source===e.source);t>-1&&this.config.sensitiveDataPatterns.splice(t,1)}updateConfig(e){this.config={...this.config,...e}}getConfig(){return{...this.config}}}class Bt{constructor(e){this.dailyCount=0,this.monthlyCount=0,this.burstCounts=[],this.storageKey="error-explorer-quota",this.config=e;const t=new Date;this.lastResetDate=this.getDateKey(t),this.lastResetMonth=this.getMonthKey(t),this.loadFromStorage()}canSendError(e=0){this.cleanupOldData();const t=this.getStats();return e>this.config.payloadSizeLimit?{allowed:!1,reason:`Payload size (${e}) exceeds limit (${this.config.payloadSizeLimit})`,quotaStats:t}:(this.cleanupBurstCounts(),this.burstCounts.length>=this.config.burstLimit?{allowed:!1,reason:"Burst limit exceeded",quotaStats:t}:this.dailyCount>=this.config.dailyLimit?{allowed:!1,reason:"Daily quota exceeded",quotaStats:t}:this.monthlyCount>=this.config.monthlyLimit?{allowed:!1,reason:"Monthly quota exceeded",quotaStats:t}:{allowed:!0,quotaStats:t})}recordUsage(e=0){this.cleanupOldData();const t=Date.now();this.dailyCount++,this.monthlyCount++,this.burstCounts.push(t),this.saveToStorage()}cleanupOldData(){const e=new Date,t=this.getDateKey(e),r=this.getMonthKey(e);t!==this.lastResetDate&&(this.dailyCount=0,this.lastResetDate=t),r!==this.lastResetMonth&&(this.monthlyCount=0,this.lastResetMonth=r),this.cleanupBurstCounts()}cleanupBurstCounts(){const e=Date.now()-this.config.burstWindowMs;this.burstCounts=this.burstCounts.filter(t=>t>e)}getDateKey(e){return e.toISOString().split("T")[0]}getMonthKey(e){return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}`}getStats(){this.cleanupOldData();const e=new Date,t=new Date(e);return t.setDate(t.getDate()+1),t.setHours(0,0,0,0),{dailyUsage:this.dailyCount,monthlyUsage:this.monthlyCount,dailyRemaining:Math.max(0,this.config.dailyLimit-this.dailyCount),monthlyRemaining:Math.max(0,this.config.monthlyLimit-this.monthlyCount),burstUsage:this.burstCounts.length,burstRemaining:Math.max(0,this.config.burstLimit-this.burstCounts.length),isOverQuota:this.dailyCount>=this.config.dailyLimit||this.monthlyCount>=this.config.monthlyLimit||this.burstCounts.length>=this.config.burstLimit,nextResetTime:t.getTime()}}resetQuotas(){this.dailyCount=0,this.monthlyCount=0,this.burstCounts=[],this.saveToStorage()}saveToStorage(){if("undefined"!=typeof window&&window.localStorage)try{const e={dailyCount:this.dailyCount,monthlyCount:this.monthlyCount,burstCounts:this.burstCounts,lastResetDate:this.lastResetDate,lastResetMonth:this.lastResetMonth};localStorage.setItem(this.storageKey,JSON.stringify(e))}catch(e){console.warn("Failed to save quota data to localStorage:",e)}}loadFromStorage(){if("undefined"!=typeof window&&window.localStorage)try{const e=localStorage.getItem(this.storageKey);if(e){const t=JSON.parse(e);this.dailyCount=t.dailyCount||0,this.monthlyCount=t.monthlyCount||0,this.burstCounts=t.burstCounts||[],this.lastResetDate=t.lastResetDate||this.lastResetDate,this.lastResetMonth=t.lastResetMonth||this.lastResetMonth}}catch(e){console.warn("Failed to load quota data from localStorage:",e)}}updateConfig(e){this.config={...this.config,...e}}getConfig(){return{...this.config}}destroy(){this.resetQuotas()}}class At{constructor(){this.performanceEntries=[],this.healthCheckInterval=null,this.maxPerformanceEntries=100,this.startTime=Date.now(),this.metrics=this.initializeMetrics(),this.setupHealthCheck()}initializeMetrics(){return{errorsReported:0,errorsSuppressed:0,retryAttempts:0,offlineQueueSize:0,averageResponseTime:0,uptime:0}}setupHealthCheck(){"undefined"!=typeof setInterval&&(this.healthCheckInterval=setInterval(()=>{this.updateMemoryUsage(),this.cleanupOldPerformanceEntries()},3e4))}trackError(e,t){this.metrics.errorsReported++,this.metrics.lastErrorTime=Date.now(),t?.suppressed&&this.metrics.errorsSuppressed++}trackSuppressedError(e){this.metrics.errorsSuppressed++}trackRetryAttempt(){this.metrics.retryAttempts++}trackPerformance(e,t,r=!0){const n={operation:e,duration:t,timestamp:Date.now(),success:r};this.performanceEntries.push(n),this.updateAverageResponseTime(),this.performanceEntries.length>this.maxPerformanceEntries&&(this.performanceEntries=this.performanceEntries.slice(-this.maxPerformanceEntries))}updateOfflineQueueSize(e){this.metrics.offlineQueueSize=e}updateAverageResponseTime(){if(0===this.performanceEntries.length)return void(this.metrics.averageResponseTime=0);const e=this.performanceEntries.slice(-20),t=e.reduce((e,t)=>e+t.duration,0);this.metrics.averageResponseTime=t/e.length}updateUptimeMetric(){this.metrics.uptime=Date.now()-this.startTime}updateMemoryUsage(){if("undefined"!=typeof window&&"performance"in window){const e=window.performance.memory;e&&(this.metrics.memoryUsage=e.usedJSHeapSize)}}cleanupOldPerformanceEntries(){const e=Date.now()-36e5;this.performanceEntries=this.performanceEntries.filter(t=>t.timestamp>e)}getMetrics(){return this.updateUptimeMetric(),{...this.metrics}}assessHealth(){const e=this.getMetrics(),t=[],r=[];let n=100;let s;return(e.errorsReported>0?e.errorsSuppressed/e.errorsReported*100:0)>50&&(t.push("High error suppression rate"),r.push("Review error filtering configuration"),n-=20),e.averageResponseTime>5e3&&(t.push("Slow average response time"),r.push("Check network connectivity and server performance"),n-=15),e.offlineQueueSize>10&&(t.push("Large offline queue"),r.push("Check network connectivity"),n-=10),e.memoryUsage&&e.memoryUsage>52428800&&(t.push("High memory usage"),r.push("Consider reducing breadcrumb retention or queue sizes"),n-=10),s=n>=80?"healthy":n>=60?"degraded":"unhealthy",{status:s,score:Math.max(0,n),issues:t,recommendations:r}}reset(){this.metrics=this.initializeMetrics(),this.performanceEntries=[],this.startTime=Date.now()}destroy(){this.healthCheckInterval&&(clearInterval(this.healthCheckInterval),this.healthCheckInterval=null),this.performanceEntries=[]}}class Mt{constructor(e){this.config=e,this.state="CLOSED",this.failureCount=0,this.successCount=0,this.lastFailureTime=0,this.requests=[],this.stateChangeTime=Date.now()}async execute(e){if("OPEN"===this.state){if(!this.shouldAttemptReset())throw new Error("Circuit breaker is OPEN");this.state="HALF_OPEN",this.stateChangeTime=Date.now()}try{const t=await e();return this.onSuccess(),t}catch(e){throw this.onFailure(),e}}onSuccess(){this.successCount++,this.requests.push({timestamp:Date.now(),success:!0}),"HALF_OPEN"===this.state&&(this.state="CLOSED",this.failureCount=0,this.stateChangeTime=Date.now()),this.cleanupRequests()}onFailure(){this.failureCount++,this.lastFailureTime=Date.now(),this.requests.push({timestamp:Date.now(),success:!1}),this.shouldOpenCircuit()&&(this.state="OPEN",this.stateChangeTime=Date.now()),this.cleanupRequests()}cleanupRequests(){const e=Date.now()-this.config.monitoringPeriod;this.requests=this.requests.filter(t=>t.timestamp>e)}shouldOpenCircuit(){if(this.cleanupRequests(),this.requests.length<this.config.minimumRequests)return!1;return this.requests.filter(e=>!e.success).length/this.requests.length>=this.config.failureThreshold/10}shouldAttemptReset(){return Date.now()-this.stateChangeTime>=this.config.resetTimeout}canExecute(){return"CLOSED"===this.state||("OPEN"===this.state&&this.shouldAttemptReset()?(this.state="HALF_OPEN",this.stateChangeTime=Date.now(),!0):"HALF_OPEN"===this.state)}getStats(){this.cleanupRequests();const e=this.requests.length,t=this.requests.filter(e=>!e.success).length,r=e>0?t/e:0,n={state:this.state,failureCount:this.failureCount,successCount:this.successCount,totalRequests:e,failureRate:r,timeInCurrentState:Date.now()-this.stateChangeTime};return"OPEN"===this.state&&(n.nextRetryTime=this.stateChangeTime+this.config.resetTimeout),n}reset(){this.state="CLOSED",this.failureCount=0,this.successCount=0,this.lastFailureTime=0,this.stateChangeTime=Date.now(),this.requests=[]}forceOpen(){this.state="OPEN",this.stateChangeTime=Date.now()}forceClose(){this.state="CLOSED",this.failureCount=0,this.stateChangeTime=Date.now()}getState(){return this.state}updateConfig(e){this.config={...this.config,...e}}getConfig(){return{...this.config}}}class qt{constructor(e={}){this.config={enabled:!0,threshold:1024,level:6,...e}}async compress(e){return!this.config.enabled||e.length<this.config.threshold?e:"undefined"!=typeof window&&"CompressionStream"in window?this.compressWithCompressionStream(e):this.compressWithPako(e)}async compressWithCompressionStream(e){const t=new CompressionStream("gzip"),r=t.writable.getWriter(),n=t.readable.getReader();r.write((new TextEncoder).encode(e)),r.close();const s=[];let i=!1;for(;!i;){const{value:e,done:t}=await n.read();i=t,e&&s.push(e)}const o=s.reduce((e,t)=>e+t.length,0),a=new Uint8Array(o);let c=0;for(const e of s)a.set(e,c),c+=e.length;return a.buffer}compressWithPako(e){return"undefined"!=typeof btoa?btoa(e):"undefined"!=typeof Buffer?Buffer.from(e).toString("base64"):e}getCompressionHeaders(e){return e?{"Content-Encoding":"gzip","Content-Type":"application/json"}:{}}estimateCompressionRatio(e){const t=new Set(e).size,r=e.length;if(0===r)return 1;const n=.3*(1-.5*(1-t/r));return Math.min(1,Math.max(.1,n))}updateConfig(e){this.config={...this.config,...e}}getConfig(){return{...this.config}}}class Lt{constructor(e={}){this.currentBatch=[],this.batchTimer=null,this.sendFunction=null,this.batchCounter=0,this.config={enabled:!0,maxSize:10,maxWaitTime:5e3,maxPayloadSize:512e3,...e}}setSendFunction(e){this.sendFunction=e}async addError(e){if(this.config.enabled&&this.sendFunction)this.currentBatch.push(e),this.shouldSendBatch()?await this.sendCurrentBatch():this.batchTimer||this.startBatchTimer();else if(this.sendFunction){const t={errors:[e],batchId:this.generateBatchId(),timestamp:(new Date).toISOString(),count:1};await this.sendFunction(t)}}shouldSendBatch(){if(this.currentBatch.length>=this.config.maxSize)return!0;return this.estimateBatchSize()>=this.config.maxPayloadSize}estimateBatchSize(){const e={errors:this.currentBatch,batchId:"estimate",timestamp:(new Date).toISOString(),count:this.currentBatch.length};return new Blob([JSON.stringify(e)]).size}startBatchTimer(){this.batchTimer=setTimeout(async()=>{await this.sendCurrentBatch()},this.config.maxWaitTime)}async sendCurrentBatch(){if(0===this.currentBatch.length||!this.sendFunction)return;const e={errors:[...this.currentBatch],batchId:this.generateBatchId(),timestamp:(new Date).toISOString(),count:this.currentBatch.length};this.currentBatch=[],this.batchTimer&&(clearTimeout(this.batchTimer),this.batchTimer=null);try{await this.sendFunction(e)}catch(e){"undefined"!=typeof console&&console.error&&console.error("[BatchManager] Failed to send batch:",e)}}async flush(){this.currentBatch.length>0&&await this.sendCurrentBatch()}generateBatchId(){this.batchCounter++;const e=Date.now(),t=Math.random().toString(36).substr(2,9);return`batch_${e}_${this.batchCounter}_${t}`}getStats(){const e=this.batchTimer?this.config.maxWaitTime-Date.now()%this.config.maxWaitTime:0;return{currentBatchSize:this.currentBatch.length,hasPendingBatch:this.currentBatch.length>0,timeUntilFlush:e,estimatedPayloadSize:this.estimateBatchSize()}}updateConfig(e){const t=this.config.enabled;this.config={...this.config,...e},t&&!this.config.enabled&&this.flush()}getConfig(){return{...this.config}}destroy(){this.batchTimer&&(clearTimeout(this.batchTimer),this.batchTimer=null),this.currentBatch.length>0&&this.flush().catch(()=>{})}}function Ut(){return`${Date.now().toString(36)}-${Math.random().toString(36).substr(2,9)}`}function Nt(e){const t={name:e.name||"Error",message:e.message||"Unknown error",stack:e.stack};if(e.stack){const r=e.stack.split("\n").find(e=>e.includes(".js:")||e.includes(".ts:")||e.includes(".vue:"));if(r){const e=r.match(/(?:at\s+.*\()?([^()]+):(\d+):(\d+)/)||r.match(/([^@]+)@([^:]+):(\d+):(\d+)/)||r.match(/([^:]+):(\d+):(\d+)/);if(e)return{...t,file:e[1]||e[2],line:parseInt(e[2]||e[3],10),column:parseInt(e[3]||e[4],10)}}}return t}function zt(){if("undefined"==typeof window||!navigator)return{name:"Unknown",version:"Unknown",platform:"Unknown",mobile:!1};const e=navigator.userAgent;let t="Unknown",r="Unknown";const n=navigator.platform||"Unknown",s=/Mobi|Android/i.test(e);if(e.includes("Chrome")){t="Chrome";const n=e.match(/Chrome\/(\d+)/);r=n?n[1]:"Unknown"}else if(e.includes("Firefox")){t="Firefox";const n=e.match(/Firefox\/(\d+)/);r=n?n[1]:"Unknown"}else if(e.includes("Safari")&&!e.includes("Chrome")){t="Safari";const n=e.match(/Version\/(\d+)/);r=n?n[1]:"Unknown"}else if(e.includes("Edg")){t="Edge";const n=e.match(/Edg\/(\d+)/);r=n?n[1]:"Unknown"}return{name:t,version:r,platform:n,mobile:s}}function jt(){if("undefined"==typeof window||!window.performance)return{};const e={};if("memory"in window.performance){const t=window.performance.memory;t&&(e.memory=t.usedJSHeapSize)}return window.performance.timing&&(e.timing={navigationStart:window.performance.timing.navigationStart,loadEventEnd:window.performance.timing.loadEventEnd,domContentLoadedEventEnd:window.performance.timing.domContentLoadedEventEnd}),window.performance.navigation&&(e.navigation={type:window.performance.navigation.type,redirectCount:window.performance.navigation.redirectCount}),e}class Ft{constructor(e){this.userContext={},this.globalContext={},this.isInitialized=!1,this.sessionId=Ut(),this.config={environment:"production",enabled:!0,maxBreadcrumbs:50,timeout:5e3,retries:3,captureUnhandledRejections:!0,captureConsoleErrors:!1,debug:!1,version:"1.0.0",maxRequestsPerMinute:10,duplicateErrorWindow:5e3,maxRetries:3,initialRetryDelay:1e3,maxRetryDelay:3e4,enableOfflineSupport:!0,maxOfflineQueueSize:50,offlineQueueMaxAge:864e5,requireHttps:"production"===e.environment,maxPayloadSize:1048576,dailyLimit:1e3,monthlyLimit:1e4,burstLimit:50,burstWindowMs:6e4,enableCompression:!0,compressionThreshold:1024,compressionLevel:6,enableBatching:!0,batchSize:5,batchTimeout:5e3,maxBatchPayloadSize:102400,...e},this.initializeServices(),this.setupHttpClient(),this.initialize()}initializeServices(){this.breadcrumbManager=new Ot(this.config.maxBreadcrumbs),this.rateLimiter=new Tt({maxRequests:this.config.maxRequestsPerMinute,windowMs:6e4,duplicateErrorWindow:this.config.duplicateErrorWindow}),this.offlineManager=new Dt(this.config.maxOfflineQueueSize,this.config.offlineQueueMaxAge),this.retryManager=new Pt({maxRetries:this.config.maxRetries,initialDelay:this.config.initialRetryDelay,maxDelay:this.config.maxRetryDelay,backoffMultiplier:2,jitter:!0}),this.securityValidator=new kt({requireHttps:this.config.requireHttps,validateToken:!0,maxPayloadSize:this.config.maxPayloadSize}),this.quotaManager=new Bt({dailyLimit:this.config.dailyLimit,monthlyLimit:this.config.monthlyLimit,payloadSizeLimit:this.config.maxPayloadSize,burstLimit:this.config.burstLimit,burstWindowMs:this.config.burstWindowMs}),this.sdkMonitor=new At,this.circuitBreaker=new Mt({failureThreshold:5,resetTimeout:6e4,monitoringPeriod:6e4,minimumRequests:3}),this.compressionService=new qt({enabled:this.config.enableCompression,threshold:this.config.compressionThreshold,level:this.config.compressionLevel}),this.batchManager=new Lt({enabled:this.config.enableBatching,maxSize:this.config.batchSize,maxWaitTime:this.config.batchTimeout,maxPayloadSize:this.config.maxBatchPayloadSize}),this.offlineManager.setSendFunction(e=>this.sendErrorDirectly(e)),this.batchManager.setSendFunction(e=>this.sendBatchDirectly(e))}setupHttpClient(){this.httpClient=ut.create({timeout:this.config.timeout,headers:{"Content-Type":"application/json","User-Agent":`ErrorExplorer-Vue/${this.config.version||"1.0.0"}`}})}initialize(){if(!this.config.enabled)return;const e=this.securityValidator.validateConfiguration(this.config);e.valid?(e.warnings.length>0&&this.config.debug&&console.warn("[ErrorExplorer] Configuration warnings:",e.warnings),this.setupGlobalHandlers(),(this.config.userId||this.config.userEmail)&&this.setUser({id:this.config.userId,email:this.config.userEmail}),this.config.customData&&(this.globalContext={...this.config.customData}),this.isInitialized=!0,this.config.debug&&console.log("[ErrorExplorer] Initialized successfully",{config:this.getPublicConfig(),sessionId:this.sessionId})):this.config.debug&&console.error("[ErrorExplorer] Configuration validation failed:",e.errors)}setupGlobalHandlers(){"undefined"!=typeof window&&(this.config.captureUnhandledRejections&&window.addEventListener("unhandledrejection",e=>{const t=e.reason instanceof Error?e.reason:new Error(String(e.reason));this.captureException(t,{type:"unhandledRejection"})}),window.addEventListener("error",e=>{e.error&&this.captureException(e.error,{type:"globalError",filename:e.filename,lineno:e.lineno,colno:e.colno})}),this.config.captureConsoleErrors&&this.setupConsoleCapture())}setupConsoleCapture(){const e=console.error;console.error=(...t)=>{this.breadcrumbManager.addConsoleLog("error",t.join(" "),t),e.apply(console,t)};const t=console.warn;console.warn=(...e)=>{this.breadcrumbManager.addConsoleLog("warning",e.join(" "),e),t.apply(console,e)}}setUser(e){this.userContext={...this.userContext,...e},this.config.debug&&console.log("[ErrorExplorer] User context updated:",this.userContext)}setContext(e,t){this.globalContext[e]=t}removeContext(e){delete this.globalContext[e]}addBreadcrumb(e,t="custom",r="info",n){this.breadcrumbManager.addBreadcrumb({message:e,category:t,level:r,data:n})}async captureException(e,t){if(!this.config.enabled||!this.isInitialized)return;const r=performance.now();try{this.sdkMonitor.trackError(e,t);const n=this.formatError(e,t),s=this.securityValidator.validatePayload(n);if(!s.valid)return this.sdkMonitor.trackSuppressedError("Payload validation failed"),void(this.config.debug&&console.warn("[ErrorExplorer] Payload validation failed:",s.errors));s.warnings.length>0&&this.config.debug&&console.warn("[ErrorExplorer] Payload warnings:",s.warnings);const i=this.securityValidator.sanitizeErrorData(n);let o=i;if(this.config.beforeSend){const e=this.config.beforeSend(i);if(!e)return void this.sdkMonitor.trackSuppressedError("Filtered by beforeSend");o=e}const a=this.rateLimiter.canSendError(o);if(!a.allowed)return this.sdkMonitor.trackSuppressedError(a.reason||"Rate limited"),void(this.config.debug&&console.warn("[ErrorExplorer] Error suppressed:",a.reason));const c=new Blob([JSON.stringify(o)]).size,u=this.quotaManager.canSendError(c);if(!u.allowed)return this.sdkMonitor.trackSuppressedError(u.reason||"Quota exceeded"),void(this.config.debug&&console.warn("[ErrorExplorer] Error suppressed:",u.reason));this.rateLimiter.markErrorSent(o),this.quotaManager.recordUsage(c),await this.sendError(o);const l=performance.now();this.sdkMonitor.trackPerformance("captureException",l-r,!0)}catch(e){const t=performance.now();this.sdkMonitor.trackPerformance("captureException",t-r,!1),this.config.debug&&console.error("[ErrorExplorer] Failed to capture exception:",e)}}async captureMessage(e,t="info",r){const n=new Error(e);return n.name="CapturedMessage",this.captureException(n,{...r,level:t,messageLevel:t})}formatError(e,t){const r=Nt(e);zt();const n=jt(),s={message:r.message,exception_class:r.name,stack_trace:r.stack||"",file:r.file||"unknown",line:r.line||0,project:this.config.projectName,environment:this.config.environment,timestamp:(new Date).toISOString(),browser:this.getBrowserData(),breadcrumbs:this.breadcrumbManager.getBreadcrumbs(),user:Object.keys(this.userContext).length>0?this.userContext:void 0,context:{...this.globalContext,...t,sessionId:this.sessionId,sdkVersion:this.config.version,performanceInfo:n},commitHash:this.config.commitHash,version:this.config.version,sessionId:this.sessionId,customData:this.config.customData};return"undefined"!=typeof window&&(s.request=this.getRequestData()),s}async sendError(e){if(this.config.enableBatching)await this.batchManager.addError(e);else if(this.circuitBreaker.canExecute())try{await this.circuitBreaker.execute(async()=>{this.config.enableOfflineSupport?await this.offlineManager.handleError(e):await this.sendErrorDirectly(e)})}catch(t){if(this.sdkMonitor.trackRetryAttempt(),this.config.debug&&console.error("[ErrorExplorer] Failed to send error:",t),!this.config.enableOfflineSupport)try{await this.retryManager.retry(()=>this.sendErrorDirectly(e))}catch(e){this.config.debug&&console.error("[ErrorExplorer] All retry attempts failed:",e)}}else await this.offlineManager.handleError(e)}async sendErrorDirectly(e){const t=await this.retryManager.executeWithRetry(async()=>await this.sendWithCompression(e));if(!t.success)throw t.error}async sendBatchDirectly(e){const t=await this.retryManager.executeWithRetry(async()=>await this.sendWithCompression(e));if(!t.success)throw t.error}async sendWithCompression(e){const t=JSON.stringify(e),r=await this.compressionService.compress(t),n=r!==t,s={...this.compressionService.getCompressionHeaders(n),...this.httpClient.defaults.headers};return n&&r instanceof ArrayBuffer?await this.httpClient.post(this.config.webhookUrl,r,{headers:{...s,"Content-Type":"application/octet-stream"}}):await this.httpClient.post(this.config.webhookUrl,r,{headers:s})}getRequestData(){return"undefined"==typeof window?{}:{url:window.location.href,referrer:document.referrer,user_agent:navigator.userAgent,viewport:{width:window.innerWidth,height:window.innerHeight}}}getBrowserData(){if("undefined"==typeof window)return{name:"Unknown",version:"Unknown",platform:"Unknown",language:"Unknown",cookies_enabled:!1,online:!1,screen:{width:0,height:0,color_depth:0}};const e=zt();return{name:e.name,version:e.version,platform:e.platform,language:navigator.language,cookies_enabled:navigator.cookieEnabled,online:navigator.onLine,screen:{width:screen.width,height:screen.height,color_depth:screen.colorDepth}}}getStats(){const e=this.offlineManager.getQueueStats(),t=this.quotaManager.getStats(),r=this.circuitBreaker.getStats(),n=this.rateLimiter.getStats(),s=this.sdkMonitor.getMetrics(),i=this.sdkMonitor.assessHealth();return this.sdkMonitor.updateOfflineQueueSize(e.size),{queueSize:e.size,isOnline:e.isOnline,rateLimitRemaining:10-n.requestCount,rateLimitReset:Date.now()+6e4,quotaStats:t,circuitBreakerState:r.state,sdkHealth:i,performanceMetrics:s}}async flushQueue(){await this.offlineManager.flushQueue(),await this.batchManager.flush()}updateConfig(e){this.config={...this.config,...e},e.maxBreadcrumbs&&(this.breadcrumbManager=new Ot(e.maxBreadcrumbs)),(e.maxRequestsPerMinute||e.duplicateErrorWindow)&&(this.rateLimiter.destroy(),this.rateLimiter=new Tt({maxRequests:this.config.maxRequestsPerMinute,windowMs:6e4,duplicateErrorWindow:this.config.duplicateErrorWindow})),this.config.debug&&console.log("[ErrorExplorer] Configuration updated:",e)}clearBreadcrumbs(){this.breadcrumbManager.clearBreadcrumbs()}isEnabled(){return this.config.enabled&&this.isInitialized}getSDKHealth(){return this.sdkMonitor.assessHealth()}getBreadcrumbManager(){return this.breadcrumbManager}getConfig(){return this.getPublicConfig()}getPublicConfig(){const{webhookUrl:e,...t}=this.config;return{...t,webhookUrl:e?"[CONFIGURED]":"[NOT SET]"}}destroy(){this.rateLimiter.destroy(),this.offlineManager.destroy(),this.quotaManager.destroy(),this.sdkMonitor.destroy(),this.batchManager.destroy(),this.breadcrumbManager.clearBreadcrumbs(),this.isInitialized=!1,this.config.debug&&console.log("[ErrorExplorer] SDK destroyed")}}let It=null;const _t={install(e,t){It=new Ft(t);const r=e.config.errorHandler;e.config.errorHandler=(e,t,n)=>{if(e instanceof Error&&It){const r={componentName:t?.type?.name||t?.type?.displayName||"Unknown",propsData:t?.props,lifecycle:n};It.addBreadcrumb(`Vue Error in ${r.componentName}: ${n}`,"vue.error","error",r),It.captureException(e,{vue:r,error_info:n})}r&&r(e,t,n)},e.mixin({beforeRouteEnter(e,t,r){It&&It.getBreadcrumbManager().addNavigation(t.fullPath||"initial",e.fullPath),r()},beforeRouteUpdate(e,t,r){It&&It.getBreadcrumbManager().addNavigation(t.fullPath,e.fullPath),r()}});const n={captureException:(e,t)=>It?.captureException(e,t)||Promise.resolve(),captureMessage:(e,t="info",r)=>It?.captureMessage(e,t,r)||Promise.resolve(),addBreadcrumb:(e,t,r,n)=>{It?.addBreadcrumb(e,t,r,n)},setUser:e=>{It?.setUser(e)},getStats:()=>It?.getStats()||{queueSize:0,isOnline:!0,rateLimitRemaining:0,rateLimitReset:Date.now(),quotaStats:{dailyUsage:0,monthlyUsage:0,dailyRemaining:0,monthlyRemaining:0,burstUsage:0,burstRemaining:0,isOverQuota:!1,nextResetTime:Date.now()},circuitBreakerState:"CLOSED",sdkHealth:{status:"unhealthy",score:0,issues:["SDK not initialized"],recommendations:["Initialize ErrorExplorer plugin"]},performanceMetrics:{errorsReported:0,errorsSuppressed:0,retryAttempts:0,offlineQueueSize:0,averageResponseTime:0,uptime:0}},flushQueue:async()=>It?.flushQueue()||Promise.resolve(),updateConfig:e=>{It?.updateConfig(e)},clearBreadcrumbs:()=>{It?.clearBreadcrumbs()},isEnabled:()=>It?.isEnabled()||!1,setContext:(e,t)=>{It?.setContext(e,t)},removeContext:e=>{It?.removeContext(e)},getSDKHealth:()=>It?.getSDKHealth()||{status:"unhealthy",score:0,issues:["SDK not initialized"],recommendations:["Initialize ErrorExplorer plugin"]}};e.config.globalProperties.$errorExplorer=n,e.provide("errorExplorer",n)}};function Ht(e){return It=new Ft(e),It}function Qt(){return It}function Wt(e,t){return It?It.captureException(e,t):(console.warn("ErrorExplorer: Not initialized. Install the plugin or call createErrorExplorer first."),Promise.resolve())}function $t(e,t="info",r){return It?It.captureMessage(e,t,r):(console.warn("ErrorExplorer: Not initialized. Install the plugin or call createErrorExplorer first."),Promise.resolve())}function Kt(e,t="custom",r="info",n){It?It.addBreadcrumb(e,t,r,n):console.warn("ErrorExplorer: Not initialized. Install the plugin or call createErrorExplorer first.")}function Jt(e){It?It.setUser(e):console.warn("ErrorExplorer: Not initialized. Install the plugin or call createErrorExplorer first.")}function Vt(){return It?It.getStats():(console.warn("ErrorExplorer: Not initialized. Install the plugin or call createErrorExplorer first."),{queueSize:0,isOnline:!0,rateLimitRemaining:0,rateLimitReset:Date.now(),quotaStats:{dailyUsage:0,monthlyUsage:0,dailyRemaining:0,monthlyRemaining:0,burstUsage:0,burstRemaining:0,isOverQuota:!1,nextResetTime:Date.now()},circuitBreakerState:"CLOSED",sdkHealth:{status:"unhealthy",score:0,issues:["SDK not initialized"],recommendations:["Initialize ErrorExplorer plugin"]},performanceMetrics:{errorsReported:0,errorsSuppressed:0,retryAttempts:0,offlineQueueSize:0,averageResponseTime:0,uptime:0}})}async function Zt(){if(It)return It.flushQueue();console.warn("ErrorExplorer: Not initialized. Install the plugin or call createErrorExplorer first.")}function Gt(e){It?It.updateConfig(e):console.warn("ErrorExplorer: Not initialized. Install the plugin or call createErrorExplorer first.")}function Xt(){It?It.clearBreadcrumbs():console.warn("ErrorExplorer: Not initialized. Install the plugin or call createErrorExplorer first.")}function Yt(){return!!It&&It.isEnabled()}function er(e,t){It?It.setContext(e,t):console.warn("ErrorExplorer: Not initialized. Install the plugin or call createErrorExplorer first.")}function tr(e){It?It.removeContext(e):console.warn("ErrorExplorer: Not initialized. Install the plugin or call createErrorExplorer first.")}function rr(){return It?It.getSDKHealth():{status:"unhealthy",score:0,issues:["SDK not initialized"],recommendations:["Initialize ErrorExplorer plugin"]}}var nr=Object.freeze({__proto__:null,ErrorExplorerPlugin:_t,addBreadcrumb:Kt,captureException:Wt,captureMessage:$t,clearBreadcrumbs:Xt,createErrorExplorer:Ht,flushQueue:Zt,getErrorExplorer:Qt,getSDKHealth:rr,getStats:Vt,isEnabled:Yt,removeContext:tr,setContext:er,setUser:Jt,updateConfig:Gt});var sr=ErrorExplorerPlugin;const ir=ErrorExplorerPlugin.install;e.BatchManager=Lt,e.BreadcrumbManager=Ot,e.CircuitBreaker=Mt,e.CompressionService=qt,e.ErrorExplorerPlugin=_t,e.ErrorReporter=Ft,e.OfflineManager=Dt,e.PerformanceMeasurement=class{constructor(){this.measurements=new Map}start(e,t){const r=this.generateId(e),n=this.getHighResolutionTime();return this.measurements.set(r,{startTime:n,operation:e,metadata:t}),r}end(e){const t=this.measurements.get(e);if(!t)return null;const r=this.getHighResolutionTime(),n=r-t.startTime,s={...t,endTime:r,duration:n};return this.measurements.delete(e),s}measure(e,t,r){return new Promise(async(n,s)=>{const i=this.start(e,r);try{const r=await t(),s=this.end(i);n(s?{result:r,performance:s}:{result:r,performance:{startTime:0,operation:e,duration:0}})}catch(e){s({error:e,performance:this.end(i)})}})}generateId(e){return`${e}-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}getHighResolutionTime(){return"undefined"!=typeof performance&&performance.now?performance.now():Date.now()}cleanup(){const e=this.getHighResolutionTime()-3e5;for(const[t,r]of this.measurements.entries())r.startTime<e&&this.measurements.delete(t)}getPendingMeasurements(){return Array.from(this.measurements.values())}},e.QuotaManager=Bt,e.RateLimiter=Tt,e.RetryManager=Pt,e.SDKMonitor=At,e.SecurityValidator=kt,e.addBreadcrumb=Kt,e.captureException=Wt,e.captureMessage=$t,e.clearBreadcrumbs=Xt,e.createErrorExplorer=Ht,e.debounce=function(e,t,r=!1){let n=null;return function(...s){const i=r&&!n;n&&clearTimeout(n),n=window.setTimeout(()=>{n=null,r||e(...s)},t),i&&e(...s)}},e.default=sr,e.extractErrorInfo=Nt,e.flushQueue=Zt,e.generateSessionId=Ut,e.getBrowserInfo=zt,e.getErrorExplorer=Qt,e.getPerformanceInfo=jt,e.getSDKHealth=rr,e.getStats=Vt,e.install=ir,e.isDevelopment=function(){return"undefined"!=typeof process&&process.env?"development"===process.env.NODE_ENV:"undefined"!=typeof window&&("localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname||window.location.hostname.includes("dev")||""!==window.location.port)},e.isEnabled=Yt,e.removeContext=tr,e.safeStringify=function(e,t=10,r=1e4){const n=new WeakSet;let s=0;const i=(e,r)=>{if(s>=t)return"[Max Depth Reached]";if(null===r)return null;if("object"==typeof r){if(n.has(r))return"[Circular Reference]";n.add(r),s++}return"function"==typeof r?"[Function]":void 0===r?"[Undefined]":"bigint"==typeof r?`[BigInt: ${r.toString()}]`:r instanceof Error?{name:r.name,message:r.message,stack:r.stack}:r};try{const t=JSON.stringify(e,i);return t.length>r?t.substring(0,r)+"...[Truncated]":t}catch(e){return"[Unstringifiable Object]"}},e.setContext=er,e.setUser=Jt,e.throttle=function(e,t){let r=!1;return function(...n){r||(e(...n),r=!0,setTimeout(()=>r=!1,t))}},e.updateConfig=Gt,e.useErrorExplorer=function(){const e=t.inject("errorExplorer",null);if(e)return e;const r=t.getCurrentInstance();return r?.appContext.app.config.globalProperties.$errorExplorer?r.appContext.app.config.globalProperties.$errorExplorer:{captureException:async(e,t)=>{const{captureException:r}=await Promise.resolve().then(function(){return nr});return r(e,t)},captureMessage:async(e,t="info",r)=>{const{captureMessage:n}=await Promise.resolve().then(function(){return nr});return n(e,t,r)},addBreadcrumb:(e,t,r,n)=>{Promise.resolve().then(function(){return nr}).then(({addBreadcrumb:s})=>{s(e,t,r,n)})},setUser:e=>{Promise.resolve().then(function(){return nr}).then(({setUser:t})=>{t(e)})},getStats:()=>{const{getStats:e}=require("../plugin");return e()},flushQueue:async()=>{const{flushQueue:e}=await Promise.resolve().then(function(){return nr});return e()},updateConfig:e=>{Promise.resolve().then(function(){return nr}).then(({updateConfig:t})=>{t(e)})},clearBreadcrumbs:()=>{Promise.resolve().then(function(){return nr}).then(({clearBreadcrumbs:e})=>{e()})},isEnabled:()=>{const{isEnabled:e}=require("../plugin");return e()},setContext:(e,t)=>{Promise.resolve().then(function(){return nr}).then(({setContext:r})=>{r(e,t)})},removeContext:e=>{Promise.resolve().then(function(){return nr}).then(({removeContext:t})=>{t(e)})},getSDKHealth:()=>{const{getSDKHealth:e}=require("../plugin");return e()}}},Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=index.umd.js.map
